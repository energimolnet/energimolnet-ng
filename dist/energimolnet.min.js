(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports=function(t){t.factory("emDateUtil",function(){function t(t){return null==t?"":(10>t?"0":"")+t}function e(e,n,r){return null!=n&&n++,t(e)+t(n)+t(r)}function n(t,e){return angular.isArray(t)?t.map(e).join("-"):e(t)}function r(t){return n(t,function(t){return e(t.getFullYear())})}function u(t){return n(t,function(t){return e(t.getFullYear(),t.getMonth())})}function a(t){return n(t,function(t){return e(t.getFullYear(),t.getMonth(),t.getDate())})}function o(t,e){var n=angular.isArray(t)&&t.length>1;return"month"===e?n?u(t):r(t):"day"===e?n?a(t):u(t):a(t)}function i(t){if(t.length<4)return new Date;for(var e=[parseInt(t.substr(0,4),10)],n=0,r=t.length;r>4+2*n;)e[n+1]=parseInt(t.substr(4+2*n,2)),n++;return new Date(e[0],e[1]?e[1]-1:0,e[2]||1,e[3]||0,e[4]||0,e[5]||0)}function s(t){var e=new Date(t.getTime());return e.setMonth(e.getMonth()+1),e.setDate(0),e.getDate()}function l(t){var e=Date.parse(t);if(!isNaN(e))return new Date(e);var n,r,u,a=t.slice(0,-5).split(/\D/).map(function(t){return parseInt(t,10)||0});return a[1]-=1,r=t.slice(-5),u=parseInt(r,10)/100,n=new Date(Date.UTC.apply(Date,a)),n.setHours(n.getHours()-u),n}return{getDate:i,getDayPeriod:a,getMonthPeriod:u,getPeriod:o,getYearPeriod:r,daysInMonth:s,parseISO:l}})};


},{}],2:[function(require,module,exports){
module.exports=function(e){e.run(["$window","emAccounts","emClients","emConsumptionPreview","emConsumptionStats","emConsumptions","emContracts","emEdielJobs","emFileJobs","emFtpConnections","emMe","emMeters","emOwners","emPassword","emRefreshTokens","emReports","emRobotJobs","emRobots","emUsers","emSubaccounts","emDateUtil","energimolnetAPI",function(e,o,n,s,t,m,i,r,c,u,l,p,b,C,a,R,f,w,J,d,g,P){function S(o,n){o.then(function(o){n===!0?e.console.log("Response:\n",o):e.console.log("Response:\n",JSON.stringify(o,null,2))},function(o){e.console.log("Error:\n",o)})}S.Accounts=o,S.Clients=n,S.ConsumptionPreview=s,S.ConsumptionStats=t,S.Consumptions=m,S.Contracts=i,S.EdielJobs=r,S.FileJobs=c,S.FtpConnections=u,S.Meters=p,S.Me=l,S.Owners=b,S.Password=C,S.RefreshTokens=a,S.Reports=R,S.RobotJobs=f,S.Robots=w,S.Subaccounts=d,S.Users=J,S.DateUtil=g,S.api=P,e.em=S}])};


},{}],3:[function(require,module,exports){
module.exports=function(t){t.factory("energimolnetAPI",["$http","$window","$q",function(t,a,n){function o(a){return n(function(n,o){t(u(a)).then(function(t){n(null==t.data.count||null==t.data.limit||null==t.data.skip?t.data.data:{data:t.data.data,pagination:{skip:t.data.skip,limit:t.data.limit,count:t.data.count,page:1+t.data.skip/t.data.limit,from:0===t.data.count?0:t.data.skip+1,to:t.data.skip+t.data.limit>t.data.count?t.data.count:t.data.skip+t.data.limit}})},function(t){401===t.status&&e(void 0),o(null!=t.data?t.data.errors:{})})})}function i(){return a.localStorage.getItem(l)}function e(t){null!=t&&t.length>0?a.localStorage.setItem(l,t):a.localStorage.removeItem(l)}function u(t){var a=i();return null!=a&&(t.headers={Authorization:"OAuth "+a}),t}var l="energimolnetApiToken";return{getToken:i,setToken:e,request:o}}])};


},{}],4:[function(require,module,exports){
!function(e){var r=e.module("energimolnet",[]);require("./resource-factory")(r),require("./url")(r),require("./energimolnet-api")(r),require("./debug-util")(r),require("./date-util")(r),require("./models/accounts")(r),require("./models/clients")(r),require("./models/consumption-preview")(r),require("./models/consumption-stats")(r),require("./models/consumptions")(r),require("./models/contracts")(r),require("./models/ediel-jobs")(r),require("./models/file-jobs")(r),require("./models/ftp-connections")(r),require("./models/me")(r),require("./models/meters")(r),require("./models/owners")(r),require("./models/password")(r),require("./models/refreshtokens")(r),require("./models/reports")(r),require("./models/robot-jobs")(r),require("./models/robots")(r),require("./models/subaccounts")(r),require("./models/users")(r)}(angular);
},{"./date-util":1,"./debug-util":2,"./energimolnet-api":3,"./models/accounts":5,"./models/clients":6,"./models/consumption-preview":7,"./models/consumption-stats":8,"./models/consumptions":9,"./models/contracts":10,"./models/ediel-jobs":11,"./models/file-jobs":12,"./models/ftp-connections":13,"./models/me":14,"./models/meters":15,"./models/owners":16,"./models/password":17,"./models/refreshtokens":18,"./models/reports":19,"./models/robot-jobs":20,"./models/robots":21,"./models/subaccounts":22,"./models/users":23,"./resource-factory":24,"./url":25}],5:[function(require,module,exports){
module.exports=function(e){e.factory("emAccounts",["emResourceFactory",function(e){return e({"default":"/accounts"},["get","query","save","delete"])}])};


},{}],6:[function(require,module,exports){
module.exports=function(e){e.factory("emClients",["emResourceFactory",function(e){return e({"default":"/clients"},["get","save","query","delete"],{forAccountPath:"clients",forAccountMethods:["get","save","query","delete"]})}])};


},{}],7:[function(require,module,exports){
module.exports=function(e){e.factory("emConsumptionPreview",["emResourceFactory",function(e){return e({"default":"/consumptions"},["get"])}])};


},{}],8:[function(require,module,exports){
module.exports=function(t){t.factory("emConsumptionStats",["emResourceFactory",function(t){return t({"default":"/accounts/me/consumption_stats"},["get"])}])};


},{}],9:[function(require,module,exports){
module.exports=function(o){o.factory("emConsumptions",["emResourceFactory",function(o){var t=o({"default":"/consumptions"},["get"],{forAccountPath:"consumptions",forAccountMethods:"save",forAccountOptions:{saveMethod:"PUT"}});return t.origGet=t.get,t.get=function(o,n,e){return t.origGet(o+"/"+n+"/"+e.join("+"))},t}])};


},{}],10:[function(require,module,exports){
module.exports=function(e){e.factory("emContracts",["emResourceFactory",function(e){return e({"default":"/contracts",query:"/accounts/me/contracts"},["get","query","save","delete"])}])};


},{}],11:[function(require,module,exports){
module.exports=function(e){e.factory("emEdielJobs",["emResourceFactory",function(e){return e({"default":"/ediel_jobs"},["get","query","save","delete"])}])};


},{}],12:[function(require,module,exports){
module.exports=function(e){e.factory("emFileJobs",["emResourceFactory",function(e){return e({"default":"/file_jobs"},["get","query","save","delete"])}])};


},{}],13:[function(require,module,exports){
module.exports=function(e){e.factory("emFtpConnections",["emResourceFactory",function(e){return e({},[],{forAccountPath:"ftp_connections",forAccountMethods:["get","save","query","delete"]})}])};


},{}],14:[function(require,module,exports){
module.exports=function(e){e.factory("emMe",["emResourceFactory",function(e){return e({"default":"/accounts/me"},["get","save"],{saveMethod:"PUT"})}])};


},{}],15:[function(require,module,exports){
var PATH_ASSIGN="/meters/many/assign_to",PATH_SHARE="/meters/many/share_with",PATH_REVOKE="/meters/many/revoke";module.exports=function(e){e.factory("emMeters",["emResourceFactory","energimolnetAPI","emUrl",function(e,r,t){function n(e){return function(n,a){for(var u=[],o=n.length,s=a.length,m=0;o>m;m++)for(var l=n[m],A=0;s>A;A++){var d=a[A];u.push({_id:l,holder:d})}return r.request({url:t.url(e),method:"POST",data:u})}}function a(e){return r.request({url:t.url(PATH_REVOKE),method:"PUT",data:e})}var u=e({"default":"/meters"},["get","query","save","delete","batchUpdate"]);return u.assign=n(PATH_ASSIGN),u.share=n(PATH_SHARE),u.revoke=a,u}])};


},{}],16:[function(require,module,exports){
module.exports=function(e){e.factory("emOwners",["emResourceFactory",function(e){return e({"default":"/owners"},["get","query"])}])};


},{}],17:[function(require,module,exports){
module.exports=function(e){e.factory("emPassword",["emResourceFactory",function(e){return e({"default":"/accounts/me/password"},["save"],{saveMethod:"PUT"})}])};


},{}],18:[function(require,module,exports){
module.exports=function(e){e.factory("emRefreshTokens",["emResourceFactory",function(e){return e({"default":"/refreshtokens"},["query"])}])};


},{}],19:[function(require,module,exports){
module.exports=function(e){e.factory("emReports",["emResourceFactory",function(e){return e({"default":"/reports"},["save"])}])};


},{}],20:[function(require,module,exports){
module.exports=function(e){e.factory("emRobotJobs",["emResourceFactory",function(e){return e({"default":"/robot_jobs"},["get","query","save","delete"])}])};


},{}],21:[function(require,module,exports){
module.exports=function(e){e.factory("emRobots",["emResourceFactory","emUrl","energimolnetAPI",function(e,t,r){var o=e({"default":"/robots"},["get","query","save","delete"]);return o.run=function(e){return r.request({url:t.url([this.getPath,e,"run"]),method:"POST"})},o}])};


},{}],22:[function(require,module,exports){
module.exports=function(e){e.factory("emSubaccounts",["emResourceFactory",function(e){return e({},[],{forAccountPath:"subaccounts",forAccountMethods:["get","save","query","delete"]})}])};


},{}],23:[function(require,module,exports){
module.exports=function(e){e.factory("emUsers",["emResourceFactory",function(e){return e({"default":"/users",query:"/accounts/me/users"},["get","query","save","delete"])}])};


},{}],24:[function(require,module,exports){
module.exports=function(t){t.factory("emResourceFactory",["emUrl","energimolnetAPI",function(t,e){function r(t,e,r){function s(){this.getPath=t.get||t["default"],this.queryPath=t.query||t["default"],this.savePath=t.save||t["default"],this.deletePath=t["delete"]||t["default"],this.batchUpdatePath=t.batchUpdate||t["default"],this.options=r}return r=r||{},e.indexOf("get")>-1&&(s.prototype.get=o),e.indexOf("query")>-1&&(s.prototype.query=u),e.indexOf("save")>-1&&(s.prototype.save=n),e.indexOf("batchUpdate")>-1&&(s.prototype.batchUpdate=a),e.indexOf("delete")>-1&&(s.prototype["delete"]=i),void 0!==r.forAccountPath&&(s.prototype.forAccount=h),new s}function o(r){return e.request({method:"GET",url:t.url([this.getPath,r])})}function n(r){var o,n,a=r;return void 0!==r._id||"PUT"===this.options.saveMethod?(n=[this.savePath,r._id],o="PUT",a=angular.copy(r),delete a._id):(o="POST",n=[this.savePath]),e.request({method:o,url:t.url(n),data:a})}function a(r,o){for(var n=[],a=0,u=r.length;u>a;a++){var i=angular.copy(o);i._id=r[a],n.push(i)}return e.request({method:"PUT",url:t.url([this.batchUpdatePath]),data:n})}function u(r){return e.request({method:"GET",url:t.url(this.queryPath),params:s(r)})}function i(r){return e.request({method:"DELETE",url:t.url([this.deletePath,r])})}function h(t){var e={"default":"/accounts/"+t+"/"+this.options.forAccountPath};return r(e,this.options.forAccountMethods,this.options.forAccountOptions)}function s(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],n=angular.isString(o);null!=o&&(n&&o.length>0||!n)&&(e[r]=o)}return e}return r}])};


},{}],25:[function(require,module,exports){
module.exports=function(r){r.factory("emUrl",["apiBaseUrl",function(r){function n(n){n=null==n?[]:angular.isArray(n)?n:[n];var e=[r+l],t=0;for(n.length;t<n.length;t++){var u=n[t];if(null==n[t])break;e.push(u.replace(/^\/|\/$/,""))}return e.join("/")}function e(n){return r+u+"?redirect="+n}function t(n){return r+i+"?redirect="+n}var u="security/signin",i="security/signout",l="api/2.0";return{url:n,loginUrl:e,logoutUrl:t}}])};


},{}]},{},[4]);
